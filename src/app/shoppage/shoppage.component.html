
<div class="wholeshoppage-div">

    <div class="top-text" style="text-align: center;">
        <h1>Loja de Produtos Oficiais</h1>
        <h1>‚ö†Ô∏è Ainda em constru√ß√£o! ‚ö†Ô∏è</h1>
        <p>Todos estes produtos s√£o feitos e desenhados por n√≥s do absoluto zero, impressos com as nossas impressoras 3D e enviados at√© ti tamb√©m por n√≥s! üòâ</p>
        <h3>Aten√ß√£o! Todos estes produtos s√£o apenas "placeholders" e n√£o t√™m por enquanto finalidade nenhuma! APENAS TESTE!</h3>
    </div>
    <div *ngIf="authService.userData" style="width: 100%; display: flex; align-items: center; justify-content: center;">
        <div style="text-align: center; align-self: center; margin: 5px; width: 200px;" class="mainbutton buttonwarning" [routerLink]="[ '/editarloja']"  matRipple>
            <i class="material-icons" style="margin: 0px 5px 0px 0px;">edit</i>
            <span class="about-link">Editar Loja (Admin)</span>
        </div>
    </div>
    <div class="shop-cards">
        <div *ngFor="let product of products" [ngClass]="{'productDetailsView': currentlySelectedProductId == product.id}">
            <div class="item-card">
                <div class="item-image">
                    <img src="{{ product.productImageUrl }}" alt="">
                </div>
                <div class="item-details">
                    <nav style="text-align: center;"><h1>{{ product.name }}</h1></nav>
                    <div style="width: 100%; background-color: white; color: rgb(20,40,100); border-radius: 10px;">
                        <nav style="white-space: pre-wrap; padding: 10px;">{{ product.description }}</nav>
                    </div>
                    <div style="width: 100%; display: flex; flex-direction: row; justify-content: space-around;">
                        <nav>{{ product.basePrice }}‚Ç¨ <small>/unidade</small></nav>
                        <nav *ngIf="product.stock > 0"><small>Em Stock: {{ product.stock }}</small></nav>
                        <nav *ngIf="product.stock <= 0"><small style="color: red;">ESGOTADO</small></nav>
                    </div>
                </div>
                <nav class="item-buttons">
                    <button style="margin: 0px 5px" mat-flat-button color="primary" (click)="viewProduct(product.id)" *ngIf="!currentlySelectedProductId">
                        Ver
                    </button>
                    <button style="margin: 0px 5px" mat-flat-button color="primary" (click)="closeProduct(product.id)" *ngIf="currentlySelectedProductId == product.id">
                        Fechar
                    </button>
                    <button style="margin: 0px 5px" mat-flat-button color="accent" *ngIf="product.stock > 0">
                        Comprar
                    </button>
                    <button style="margin: 0px 5px" mat-flat-button color="accent" *ngIf="product.stock <= 0" disabled>
                        Comprar
                    </button>
                    
                </nav>
            </div>
        </div>
    </div>
    
</div>